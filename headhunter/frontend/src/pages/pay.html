{% extends "root.html" %}
{% load static %}

{% block head %}
{% endblock head %}

{% block body %}
<form action="" method="post">
    <input type="hidden" name="data" value="{{ data }}">
    <input type="hidden" name="signature" value="{{ signature }}">
    <button type="submit">Pay</button>
</form>
<div id="liqpay_checkout"></div>
<script>
    window.LiqPayCheckoutCallback = function() {
        LiqPayCheckout.init({
            data: "{{ data }}",
            signature: "{{ signature }}",
            embedTo: "#liqpay_checkout",
            mode: "embed" // embed || popup,
        }).on("liqpay.callback", function(data){
            console.log(data.status);
            console.log(data);
        }).on("liqpay.ready", function(data){
            // ready
        }).on("liqpay.close", function(data){
            // close
        });
    };
</script>
<script src="//static.liqpay.ua/libjs/checkout.js" async></script>
{% endblock body %}
